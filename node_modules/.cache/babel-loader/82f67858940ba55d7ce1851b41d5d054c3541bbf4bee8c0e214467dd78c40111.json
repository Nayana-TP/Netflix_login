{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import Navbar from'./components/Navbar';import Featured from'./components/Featured';import MovieRow from'./components/MovieRow';import Auth from'./components/Auth';import{fetchTrending,fetchPopular,fetchTopRated,fetchUpcoming}from'./services/tmdb';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[trending,setTrending]=useState([]);const[popular,setPopular]=useState([]);const[topRated,setTopRated]=useState([]);const[upcoming,setUpcoming]=useState([]);const[loading,setLoading]=useState(false);const[isAuthenticated,setIsAuthenticated]=useState(false);const[user,setUser]=useState(null);// Debug: Log component mount\nuseEffect(()=>{console.log('App component mounted');console.log('Environment API URL:',process.env.REACT_APP_API_URL);},[]);useEffect(()=>{const fetchData=async()=>{setLoading(true);try{const[trendingData,popularData,topRatedData,upcomingData]=await Promise.all([fetchTrending(),fetchPopular(),fetchTopRated(),fetchUpcoming()]);setTrending(trendingData);setPopular(popularData);setTopRated(topRatedData);setUpcoming(upcomingData);}catch(err){console.error('Error fetching movie data:',err);// Don't set error, just use empty arrays\nconsole.log('Continuing without movie data...');}finally{setLoading(false);}};if(isAuthenticated){fetchData();}},[isAuthenticated]);const handleAuthSuccess=userData=>{setIsAuthenticated(true);setUser(userData);};const handleLogout=()=>{setIsAuthenticated(false);setUser(null);};// Debug info\nconsole.log('Environment API URL:',process.env.REACT_APP_API_URL);console.log('Is Authenticated:',isAuthenticated);// For Vercel deployment, show demo mode if backend is not available\nconst isDemoMode=!process.env.REACT_APP_API_URL||process.env.REACT_APP_API_URL.includes('your-backend-url')||process.env.REACT_APP_API_URL.includes('vercel.app/api');console.log('Is Demo Mode:',isDemoMode);// Fallback: Always show Auth if not authenticated, regardless of demo mode\nif(!isAuthenticated){console.log('Showing Auth component');return/*#__PURE__*/_jsx(Auth,{onAuthSuccess:handleAuthSuccess});}// Always show the app, even if movie data fails to load\nif(loading){console.log('Showing loading state');return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})});}console.log('Showing main app');return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{user:user,onLogout:handleLogout}),isDemoMode&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#e50914',color:'white',padding:'10px',textAlign:'center',fontSize:'14px'},children:\"\\uD83C\\uDFAC Demo Mode - Running without backend authentication\"}),/*#__PURE__*/_jsx(Featured,{movies:trending}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-rows\",children:[/*#__PURE__*/_jsx(MovieRow,{title:\"Trending Now\",movies:trending}),/*#__PURE__*/_jsx(MovieRow,{title:\"Popular on Netflix\",movies:popular}),/*#__PURE__*/_jsx(MovieRow,{title:\"Top Rated\",movies:topRated}),/*#__PURE__*/_jsx(MovieRow,{title:\"Upcoming\",movies:upcoming})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Featured","MovieRow","Auth","fetchTrending","fetchPopular","fetchTopRated","fetchUpcoming","jsx","_jsx","jsxs","_jsxs","App","trending","setTrending","popular","setPopular","topRated","setTopRated","upcoming","setUpcoming","loading","setLoading","isAuthenticated","setIsAuthenticated","user","setUser","console","log","process","env","REACT_APP_API_URL","fetchData","trendingData","popularData","topRatedData","upcomingData","Promise","all","err","error","handleAuthSuccess","userData","handleLogout","isDemoMode","includes","onAuthSuccess","className","children","onLogout","style","backgroundColor","color","padding","textAlign","fontSize","movies","title"],"sources":["C:/Users/ntp94/OneDrive/Desktop/tmdb/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport Featured from './components/Featured';\nimport MovieRow from './components/MovieRow';\nimport Auth from './components/Auth';\nimport { fetchTrending, fetchPopular, fetchTopRated, fetchUpcoming } from './services/tmdb';\n\nfunction App() {\n  const [trending, setTrending] = useState([]);\n  const [popular, setPopular] = useState([]);\n  const [topRated, setTopRated] = useState([]);\n  const [upcoming, setUpcoming] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n\n  // Debug: Log component mount\n  useEffect(() => {\n    console.log('App component mounted');\n    console.log('Environment API URL:', process.env.REACT_APP_API_URL);\n  }, []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const [trendingData, popularData, topRatedData, upcomingData] = await Promise.all([\n          fetchTrending(),\n          fetchPopular(),\n          fetchTopRated(),\n          fetchUpcoming()\n        ]);\n        \n        setTrending(trendingData);\n        setPopular(popularData);\n        setTopRated(topRatedData);\n        setUpcoming(upcomingData);\n      } catch (err) {\n        console.error('Error fetching movie data:', err);\n        // Don't set error, just use empty arrays\n        console.log('Continuing without movie data...');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (isAuthenticated) {\n      fetchData();\n    }\n  }, [isAuthenticated]);\n\n  const handleAuthSuccess = (userData) => {\n    setIsAuthenticated(true);\n    setUser(userData);\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUser(null);\n  };\n\n  // Debug info\n  console.log('Environment API URL:', process.env.REACT_APP_API_URL);\n  console.log('Is Authenticated:', isAuthenticated);\n\n  // For Vercel deployment, show demo mode if backend is not available\n  const isDemoMode = !process.env.REACT_APP_API_URL || \n                     process.env.REACT_APP_API_URL.includes('your-backend-url') ||\n                     process.env.REACT_APP_API_URL.includes('vercel.app/api');\n  \n  console.log('Is Demo Mode:', isDemoMode);\n\n  // Fallback: Always show Auth if not authenticated, regardless of demo mode\n  if (!isAuthenticated) {\n    console.log('Showing Auth component');\n    return <Auth onAuthSuccess={handleAuthSuccess} />;\n  }\n\n  // Always show the app, even if movie data fails to load\n  if (loading) {\n    console.log('Showing loading state');\n    return (\n      <div className=\"loading\">\n        <div className=\"loading-spinner\"></div>\n      </div>\n    );\n  }\n\n  console.log('Showing main app');\n  return (\n    <div className=\"App\">\n      <Navbar user={user} onLogout={handleLogout} />\n      {isDemoMode && (\n        <div style={{\n          backgroundColor: '#e50914',\n          color: 'white',\n          padding: '10px',\n          textAlign: 'center',\n          fontSize: '14px'\n        }}>\n          ðŸŽ¬ Demo Mode - Running without backend authentication\n        </div>\n      )}\n      <Featured movies={trending} />\n      <div className=\"movie-rows\">\n        <MovieRow title=\"Trending Now\" movies={trending} />\n        <MovieRow title=\"Popular on Netflix\" movies={popular} />\n        <MovieRow title=\"Top Rated\" movies={topRated} />\n        <MovieRow title=\"Upcoming\" movies={upcoming} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}